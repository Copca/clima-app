var M=Object.defineProperty,O=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var g=(s,t,a)=>t in s?M(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,C=(s,t)=>{for(var a in t||(t={}))I.call(t,a)&&g(s,a,t[a]);if(x)for(var a of x(t))$.call(t,a)&&g(s,a,t[a]);return s},b=(s,t)=>O(s,w(t));import{j as m,r as l,a as N,R as B,b as D}from"./vendor.3dee75a2.js";const L=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}};L();const e=m.exports.jsx,r=m.exports.jsxs,_=m.exports.Fragment,y=l.exports.createContext(),U=({children:s})=>{const[t,a]=l.exports.useState({ciudad:"",pais:""}),[i,n]=l.exports.useState({}),[o,c]=l.exports.useState(!1),[f,d]=l.exports.useState(!1),S=u=>{a(b(C({},t),{[u.target.name]:u.target.value}))},E=async u=>{c(!0),d(!1);try{const{ciudad:p,pais:R}=u,v="56bbff7e880adb5cc2bba8eb861dc7a4",k=`http://api.openweathermap.org/geo/1.0/direct?q=${p},${R}&limit=1&appid=${v}`,{data:q}=await N.get(k),{lat:F,lon:P}=q[0],j=`https://api.openweathermap.org/data/2.5/weather?lat=${F}&lon=${P}&appid=${v}`,{data:A}=await N.get(j);n(A)}catch(p){console.log(p),d("No hay resultados")}finally{c(!1)}};return e(y.Provider,{value:{busqueda:t,datosBusqueda:S,consultarClima:E,resultado:i,cargando:o,noResultado:f},children:s})},h=()=>l.exports.useContext(y),K=()=>{const[s,t]=l.exports.useState(""),{busqueda:a,datosBusqueda:i,consultarClima:n}=h(),{ciudad:o,pais:c}=a;return r("div",{className:"contenedor",children:[s&&e("p",{children:s}),r("form",{onSubmit:d=>{if(d.preventDefault(),Object.values(a).includes("")){t("Todos los campos son obligatorios");return}t(""),n(a)},children:[r("div",{className:"campo",children:[e("label",{htmlFor:"ciudad",children:"Ciudad"}),e("input",{type:"text",id:"ciudad",name:"ciudad",onChange:i,value:o})]}),r("div",{className:"campo",children:[e("label",{htmlFor:"pais",children:"Pa\xEDs"}),r("select",{name:"pais",id:"pais",onChange:i,value:c,children:[e("option",{value:"",children:"-- Selecciona un Pais --"}),e("option",{value:"US",children:"Estados Unidos"}),e("option",{value:"MX",children:"M\xE9xico"}),e("option",{value:"AR",children:"Argentina"}),e("option",{value:"CO",children:"Colombia"}),e("option",{value:"CR",children:"Costa Rica"}),e("option",{value:"ES",children:"Espa\xF1a"}),e("option",{value:"PE",children:"Per\xFA"})]})]}),e("input",{type:"submit",value:"Consultar Clima"})]})]})},T=()=>{const{resultado:s}=h(),{name:t,main:a}=s,i=273.15;return r("div",{className:"contenedor clima",children:[r("h2",{children:["El Clima de ",t," es:"]}),r("p",{children:[parseInt(a.temp-i)," ",e("span",{children:"\u2103"})]}),r("div",{className:"temp_min_max",children:[r("p",{children:["M\xEDn: ",parseInt(a.temp_min-i)," ",e("span",{children:"\u2103"})]}),r("p",{children:["M\xE1x: ",parseInt(a.temp_max-i)," ",e("span",{children:"\u2103"})]})]})]})},X=()=>e("div",{className:"loading",children:r("div",{className:"sk-chase",children:[e("div",{className:"sk-chase-dot"}),e("div",{className:"sk-chase-dot"}),e("div",{className:"sk-chase-dot"}),e("div",{className:"sk-chase-dot"}),e("div",{className:"sk-chase-dot"}),e("div",{className:"sk-chase-dot"})]})}),z=()=>{const{resultado:s,cargando:t,noResultado:a}=h();return e(_,{children:r("main",{className:"dos-columnas",children:[e(K,{}),t?e(X,{}):s!=null&&s.name?e(T,{}):a?e("p",{children:a}):e("p",{children:"El clima se va a mostrar aqu\xED"})]})})},G=()=>r(U,{children:[e("header",{children:e("h1",{children:"Buscador de Clima"})}),e(z,{})]});B.render(e(D.StrictMode,{children:e(G,{})}),document.getElementById("root"));
